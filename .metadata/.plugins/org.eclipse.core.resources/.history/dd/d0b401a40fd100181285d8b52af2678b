package com.internousdev.ecsite2.action;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.List;
import java.util.Map;

import org.apache.struts2.interceptor.SessionAware;

import com.internousdev.ecsite2.dto.BuyItemDTO;
import com.opensymphony.xwork2.ActionSupport;

public class BuyItemConfirmAction extends ActionSupport implements SessionAware {
	public Map<String, Object> session;
	private Collection<String> checkList;
	private String id;
	private String itemName;
	private String itemPrice;
	private String count;
	private String pay;

	private List<BuyItemDTO> buyItemDTOList = new ArrayList<BuyItemDTO>();

	public String execute() throws SQLException {
		System.out.println(checkList);
		System.out.println(id);
		System.out.println(itemName);
		System.out.println(itemPrice);
		System.out.println(count);
		System.out.println(pay);
		String[] idList = id.split(", ", 0);
		String[] itemNameList = itemName.split(", ", 0);
		String[] itemPriceList = itemPrice.split(", ", 0);
		String[] countList = count.split(", ", 0);
		for(String check:checkList) {
			System.out.println("CHECK ID>" + check);
			int c = Integer.parseInt(check)-1;
			System.out.println(idList[c]);
		}
	}
}
